{% extends 'instructor/base.html' %}
{% block body %}
<div class="container mt-5">
    <h2>Add New Course</h2>

    <form method="POST" enctype="multipart/form-data" novalidate>
        {% csrf_token %}

        <!-- Course Name -->
        <div class="form-group">
            <label for="name">Course Name:</label>
            <input type="text" name="name" id="name" class="form-control" placeholder="Enter course name" required minlength="3" maxlength="40">
            <div class="invalid-feedback">
                Please provide a valid course name (3-40 characters).
            </div>
        </div>

        <!-- Course Description -->
        <div class="form-group mt-3">
            <label for="description">Course Description:</label>
            <textarea name="description" id="description" class="form-control" rows="3" placeholder="Enter course description" required minlength="10" maxlength="200"></textarea>
            <div class="invalid-feedback">
                Please provide a description between 10 and 200 characters.
            </div>
        </div>

        <!-- Course Price -->
        <div class="form-group mt-3">
            <label for="price">Price :</label>
            <input type="number" name="price" id="price" class="form-control" step="0.01" placeholder="Enter course price" required min="0.01" max="10000">
            <div class="invalid-feedback">
                Please provide a valid price between $0.01 and $10,000.
            </div>
        </div>

        <!-- Course Thumbnail -->
        <div class="form-group mt-3">
            <label for="thumbnail">Course Thumbnail:</label>
            <input type="file" name="thumbnail" id="thumbnail" class="form-control-file" accept=".jpg, .jpeg, .png" required>
            <div class="invalid-feedback">
                Please upload a valid image file (jpg, jpeg, or png).
            </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary mt-4">Add Course</button>
    </form>
</div>

<style>
    .container {
        max-width: 600px;
    }
</style>

<!-- Client-side validation using HTML5 -->
{#<script>#}
{#    // Disables form submission if there are invalid fields#}
{#    (function() {#}
{#        'use strict';#}
{#        window.addEventListener('load', function() {#}
{#            // Fetch all the forms we want to apply custom Bootstrap validation styles to#}
{#            var forms = document.getElementsByTagName('form');#}
{#            // Loop over them and prevent submission#}
{#            Array.prototype.filter.call(forms, function(form) {#}
{#                form.addEventListener('submit', function(event) {#}
{#                    if (form.checkValidity() === false) {#}
{#                        event.preventDefault();#}
{#                        event.stopPropagation();#}
{#                    }#}
{#                    form.classList.add('was-validated');#}
{#                }, false);#}
{#            });#}
{#        }, false);#}
{#    })();#}
{#</script>#}
{% endblock %}
